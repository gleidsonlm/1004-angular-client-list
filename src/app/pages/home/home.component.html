<nav
  class="navbar bg-body-secondary justify-content-between m-2 mt-lg-4 mb-lg-4"
>
  <span>&nbsp;</span>
  <h3 class="">Customer Management</h3>
  <button class="btn btn-outline-primary me-3" type="button">
    Add Customer <span class="bi-plus-circle-fill"></span>
  </button>
</nav>

<!-- customers variable in component is an array. loop through it and template it as a lista -->
<div class="container ms-5 me-5">
  <div class="row">
    <div class="col-12">
      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th>Id</th>
            <th>Name</th>
            <th>Date of Birth</th>
            <th class="d-none d-sm-table-cell">Email</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let customer of customers">
            <td>{{ customer.id }}</td>
            <td>{{ customer.name }}</td>
            <td>{{ customer.dob.toLocaleDateString("pt-BR") }}</td>
            <td class="d-none d-sm-table-cell">{{ customer.email }}</td>
            <td>
              <form action="/edit/">
                <input
                  type="hidden"
                  name="customerId"
                  value="{{ customer.id }}"
                />
                <!-- onsubmit, opens /edit/:id -->
                <button class="btn btn-outline-primary me-2" type="submit">
                  Edit <span class="bi-pencil-fill"></span>
                </button>
                <button
                  class="btn btn-outline-danger"
                  type="button"
                  (click)="openModal(content, customer.id)"
                >
                  Delete<span class="bi-trash-fill"></span>
                </button>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<ng-template #content let-customer="customerId">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Delete Customer</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="closeModal()"
    ></button>
  </div>
  <div class="modal-body">
    <p>Do you confirm to delete this customer?</p>
  </div>
  <div class="modal-footer">
    <button
      id=""
      type="button"
      class="btn btn-outline-danger"
      (click)="deleteCustomer()"
    >
      Confirm
    </button>
    <button type="button" class="btn btn-outline-info" (click)="closeModal()">
      Cancel
    </button>
  </div>
</ng-template>
